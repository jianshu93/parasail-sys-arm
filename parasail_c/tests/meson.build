#########
# tests #
#########

parasail_test_definitions = [
  ['traceback',
    files(['traceback.c']),
    []],
  ['test_align',
    files(['test_align.c']),
    [parasail_libm_dep]],
  ['test_gcups',
    files(['test_gcups.c']),
    [parasail_libm_dep]],
  ['test_io',
    files(['test_io.c']),
    []],
  ['test_isa',
    files(['test_isa.c']),
    []],
  ['test_matrix',
    files(['test_matrix.c']),
    []],
  ['test_query',
    files(['test_query.c']),
    []],
  ['test_scatter',
    files(['test_scatter.c']),
    [parasail_contrib_ssw, parasail_libm_dep]],
  ['test_sw_dispatch',
    files(['test_sw_dispatch.c']),
    []],
  ['test_verify',
    files(['test_verify.c']),
    [parasail_libm_dep]],
  ['test_verify_tables',
    files(['test_verify_tables.c']),
    [parasail_libm_dep]],
  ['test_verify_rowcols',
    files(['test_verify_rowcols.c']),
    [parasail_libm_dep]],
  ['test_verify_traces',
    files(['test_verify_traces.c']),
    [parasail_libm_dep]],
  ['test_verify_cigars',
    files(['test_verify_cigars.c']),
    [parasail_libm_dep]],
  ['test_12',
    files(['test_12.c']),
    []],
  ['test_ssw',
    files(['test_ssw.cpp']),
    [parasail_contrib_ssw, parasail_contrib_sais, parasail_libm_dep]],
  ['ssw_test',
    files(['../contrib/ssw/main.c']),
    [parasail_contrib_ssw, parasail_zlib_dep, parasail_libm_dep]],
  ['ssw_vs_pssw',
    files(['ssw_vs_pssw.c']),
    [parasail_contrib_ssw]],
  ]

foreach i : parasail_test_definitions
  executable(
    i[0], [
      parasail_config_h,
      i[1]],
    install : false,
    link_with : parasail_lib,
    dependencies : i[2],
    include_directories : parasail_include_directories)
endforeach
